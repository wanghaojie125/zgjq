<!-- Data Tables -->
<link href="/content/css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet">
<link href="/content/css/plugins/iCheck/custom.css" rel="stylesheet">
<link href="/content/css/plugins/switchery/switchery.css" rel="stylesheet">
<link href="/content/css/plugins/datapicker/bootstrap-datetimepicker.min.css" rel="stylesheet">
<div class="wrapper wrapper-content">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>
                        数据列表
                    </h5>
                </div>
                <div class="ibox-content">
                    <table class="table table-striped table-bordered table-hover dataTables-example" id="dataTable">
                        <thead>
                        <tr>
                            <th>时间</th>
                            <th>IP</th>
                            <th>地区</th>
                            <th>浏览器</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script src="/content/js/plugins/dataTables/dataTables.bootstrap.js"></script>

    <script type="text/javascript">
        (function ($) {
            $.gallary = {
                init: function () {
                    var _self = this;
                    this.getData();
                },
                table: "",
                getData: function () {
                    var _self = this;
                    var pageLength = $('#length').val();
                    this.table = $('#dataTable').DataTable({
                        serverSide: true,
                        searching: false,
                        ordering: false,
                        pageLength: 30,
                        pagingType: "full_numbers",
                        stateSave: true,
                        bLengthChange: false,
                        ajax: {
                            url: "/log_login_data",
                            dataSrc: 'data',
                            data: function (d) {
                                var param = {};
                                param.draw = d.draw;
                                param.start = d.start;
                                param.length = d.length;
                                return param;
                            }
                        },
                        columns: [
                            {data: "login_at"},
                            {data: "ip"},
                            {
                                data: "area",
                            },
                            {
                                data: "browser",
                            },
                        ],
                        fnDrawCallback: function () {
                        }
                    });
                },
            }
            $(function () {
                $.gallary.init();
            });
        })(jQuery)

    </script>
</div>